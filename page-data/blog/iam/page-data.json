{"componentChunkName":"component---src-template-blog-categories-template-js","path":"/blog/iam/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"authors":"Sabrina Lupșan","categories":["IAM"],"title":"Inside the Mind of an Attacker: Compromising Azure Cloud as a Guest","seoTitle":"Inside the Mind of an Attacker: Compromising Azure Cloud as a Guest","description":"Identity and Access Management (IAM) is the first line of defense against attackers in the cloud. In the realm of cloud security, IAM represents all of the measures and good practices implemented to prevent intruders from accessing cloud resources. \n\nAn organization's cloud environment may be in danger if authentication and authorization are not handled correctly. \n\nIAM, coupled with contextual security, is the recipe for success. Understanding the level of access for each user – as well as how that access impacts other assets – is vital. It may not seem like much if a user has read permissions over a storage account, but if that storage account contains sensitive data, such as credentials for another account, then the magnitude of the impact will surpass your initial assessment. ","seoDescription":"Identity and Access Management (IAM) is the first line of defense against attackers in the cloud. In the realm of cloud security, IAM represents all of the measures and good practices implemented to prevent intruders from accessing cloud resources.   An organization's cloud environment may be in danger if authentication and authorization are not handled correctly.   IAM, coupled with contextual security, is the recipe for success. Understanding the level of access for each user – as well as how that access impacts other assets – is vital. It may not seem like much if a user has read permissions over a storage account, but if that storage account contains sensitive data, such as credentials for another account, then the magnitude of the impact will surpass your initial assessment. ","date":"2023-10-09T12:24:24.858Z","featuredpost":true,"permalink":"compromising-azure-cloud-as-guest","featuredimage":{"publicURL":"/static/871fa6f7f0a78f06eeddaabc1bc4a534/55_blog-cover.png","childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/871fa6f7f0a78f06eeddaabc1bc4a534/d6cae/55_blog-cover.png","srcSet":"/static/871fa6f7f0a78f06eeddaabc1bc4a534/ac644/55_blog-cover.png 205w,\n/static/871fa6f7f0a78f06eeddaabc1bc4a534/89b47/55_blog-cover.png 410w,\n/static/871fa6f7f0a78f06eeddaabc1bc4a534/d6cae/55_blog-cover.png 820w","sizes":"(min-width: 820px) 820px, 100vw"},"sources":[{"srcSet":"/static/871fa6f7f0a78f06eeddaabc1bc4a534/913d0/55_blog-cover.webp 205w,\n/static/871fa6f7f0a78f06eeddaabc1bc4a534/91660/55_blog-cover.webp 410w,\n/static/871fa6f7f0a78f06eeddaabc1bc4a534/888e2/55_blog-cover.webp 820w","type":"image/webp","sizes":"(min-width: 820px) 820px, 100vw"}]},"width":820,"height":460}}}},"rawMarkdownBody":"Identity and Access Management (IAM) is the first line of defense against attackers in the cloud. In the realm of cloud security, IAM represents all of the measures and good practices implemented to prevent intruders from accessing cloud resources. \n\nAn organization's cloud environment may be in danger if authentication and authorization are not handled correctly. \n\nIAM, coupled with contextual security, is the recipe for success. Understanding the level of access for each user – as well as how that access impacts other assets – is vital. It may not seem like much if a user has read permissions over a storage account, but if that storage account contains sensitive data, such as credentials for another account, then the magnitude of the impact will surpass your initial assessment. \n\nIn this article, I will show you how human mistakes can lead to a complex attack path, where a malicious user gains access to a storage account, compromises a user, and ultimately gains access to a key vault that contains cryptographic keys and secrets used by the company’s apps. \n\nI’ve chosen a scenario where gross mistakes are made to highlight that you should not underestimate human error and the blast radius it can have.  \n\n## Case Study\n\nFintech Inc. is a financial technology startup developing a new banking application. A few customers already use the new app to access their banking data in real-time and manage their accounts. Fintech Inc. uses Microsoft Azure to develop and host their app. \n\nThe company must invite an external consultant, Anita, to collaborate in the cloud. Any user is allowed by default to invite guests in Microsoft Entra ID (former Azure Active Directory), so John, a member of the IT department, invites Anita as a guest. \n\nHowever, he makes a mistake; because he’s trying to accomplish many things in a short period of time, instead of inviting anita@fintechinc.com, he invites anita@fintech.com. The new guest user accepts the invitation and becomes a guest in Microsoft Entra ID. \n\nAs a guest, the \"fake\" Anita cannot do much. She can only access some resources that guests can access, she can manage her profile and collaborate with other users in Office 365 apps.  \n\nBut, looking closely, she discovers that she is now part of the ITAdmins group. How did that happen?! On a closer look, ITAdmins has a dynamic membership rule that states that all users whose department is \"IT\" become part of the group. The IT department wanted to make things easy for them and allow all employees in IT to join this group automatically. \n\n<img src=\"/img/55_blog-dynamic-membership-rule.png\" alt=\"Dynamic membership rule for ITAdmins group\" title=\"Dynamic membership rule for ITAdmins group\" class=\" blog-image-shadow \" style=\"width:auto;height:auto;\"/>\n\nHowever, this rule is very broad and opens up the possibility for mistakes. In this case, Anita was assigned the “IT” department, and she immediately joined the ITAdmins group, since Azure checks the attributes for a user whenever they are changed or a new user joins the cloud.  \n\nUpon further investigation, Anita discovers that the ITAdmins group has a very highly privileged role over the “rg-management\" resource group – the Contributor role. This role allows Anita to view, modify, and delete any resources within the resource group. Here comes the importance of the Least Privilege Principle – granting users too many permissions can do more harm than good. \n\n<img src=\"/img/55_blog-it-admins-contributor-rg-management.png\" alt=\"ITAdmins is Contributor over the rg-management resource group\" title=\"ITAdmins is Contributor over the rg-management resource group\" class=\" blog-image-shadow \" style=\"width:auto;height:auto;\"/>\n\nIf we take a look at this resource group, we will see it contains an interesting storage account – “backups”, a database, and a VM. \n\nWe can see this relation in the graph below. Tracing the attack path, we immediately realize how Anita is able to access the cloud assets, from the rg-management resource group through the new role she gained by joining ITAdmins, and therefore compromise them. By looking at context in the cloud, we become aware of the risk imposed by the ITAdmins groups, which has broad permissions over a multitude of important resources. \n\n<img src=\"/img/55_blog-first-graph.png\" alt=\"Graph showing the attack path\" title=\"Graph showing the attack path\" class=\" blog-image-shadow \" style=\"width:auto;height:auto;\"/>\n\nThe storage account has a \"backups\" container with a \"diskBackup.vhd\" file inside. This contains the files and data an ex-employee used before leaving the company. While in a rush, an IT admin has decided to back up the disk and look at it at some other time, later forgetting about it. \n\n<img src=\"/img/55_blog-backups-container.png\" alt=\"The contents of the 'backups' container\" title=\"The contents of the 'backups' container\" class=\" blog-image-shadow \" style=\"width:auto;height:auto;\"/>\n\nUpon restoring this file as a computer disk, Anita discovers a set of credentials. She knows she should not log in using those credentials, but she does it anyway – after all, this is not the first questionable action she’s done -, because she is curious.  \n\nThe set of credentials – an email and a password – are for a test user that was created in the past to test features of the application, the removal of which was forgotten. The user cannot log in to the portal due to a Conditional Access policy that denies access to the Microsoft Azure Management resource (Portal included).  \n\n<img src=\"/img/55_blog-access-to-portal-denied.png\" alt=\"Portal access denied for user\" title=\"Portal access denied for user\" class=\" blog-image-shadow \" style=\"width:auto;height:auto;\"/>\n\nFortunately, Anita can still log in using the credentials – through the CLI. This is a common \"bypass\" of this barrier, and, fortunately, she's good with command lines, so she can investigate what permissions her new user has. \n\nShe checks her new role assignments in the current subscription using the commandlet *Get-AzRoleAssignment* only to find, among other roles, that she’s a Key Vault Administrator. \n\n<img src=\"/img/55_blog-key-vault-administrator-role.png\" alt=\"The new user has the Key Vault Administrator role\" title=\"The new user has the Key Vault Administrator role\" class=\" blog-image-shadow \" style=\"width:auto;height:auto;\"/>\n\nWith the Key Vault Administrator role, Anita can [perform all data plane operations](https://learn.microsoft.com/en-us/azure/key-vault/general/rbac-guide?tabs=azure-cli) on the Credentials2 key vault that we can see in the image above, and all objects in it. \n\nA key vault is a huge discovery for Anita, who can investigate further. Using the commandlet *Get-AzKeyVaultSecret*, Anita can see that there are a few keys and secrets in the key vault. She can now read them, delete them or add new versions of those secrets. \n\n<img src=\"/img/55_blog-contents-of-the-key-vault.png\" alt=\"The contents of the Credentials2 Key Vault\" title=\"The contents of the Credentials2 Key Vault\" class=\" blog-image-shadow \" style=\"width:auto;height:auto;\"/>\n\n<img src=\"/img/55_blog-second-graph.png\" alt=\"The attack path for the new user\" title=\"The attack path for the new user\" class=\" blog-image-shadow \" style=\"width:auto;height:auto;\"/>\n\nAnita can now further discover other assets available on Fintech Inc.’s Azure cloud environment and possibly make use of the secrets stored in the “Credentials2” Key Vault. For example, we know that, as a best practice, [databases are encrypted](https://cyscale.com/blog/best-practices-for-securing-databases/), so a leaked decryption cryptographic key, for example, can lead to total compromise of the company’s data. \n\nTo understand everything that happened here, we need to look at all the bad practices and vulnerabilities that we have uncovered, in chronological order: \n\n1. Due to being in a rush, an employee invited the wrong person to collaborate in Azure, and no one picked up on it. \n2. The dynamic membership rule for the ITAdmins group is very broad and may accept unintended cases. \n3. The ITAdmins group has a highly privileged role over a resource group with many resources that may contain sensitive information, such as databases, and storage accounts. \n4. A disk backup that can be restored is held unencrypted in a storage account, containing a cleartext password for an active Azure account. \n5. A test user that was intended to be temporary is still active. \n6. A test user has access to a very high-value resource. \n\nAs you can see, each mistake allowed the intruder to advance more and more and compromise additional resources. \n\nThis is why contextual security and proper IAM security are necessary. Contextual security allows cloud professionals to understand what assets are impacted by others, while IAM best practices protect the cloud environment from intruders and represent the first barrier of entry.\n"}},{"node":{"frontmatter":{"authors":"Sabrina Lupșan","categories":["IAM"],"title":"Okta Security Best Practices ","seoTitle":"Okta Security Best Practices ","description":"Okta is an identity and access management (IAM) service built for the cloud. Best practices for cloud access recommended by Okta are: multi-factor authentication (MFA), using passwordless authentication, complying to the least privilege principle, ensuring the separation of duties, monitoring and logging the activity in the company and automating onboarding and offboarding of employees. Cyscale ensures your company does not drift away from some of these best practices.","seoDescription":"Okta is an identity and access management (IAM) service built for the cloud that connects persons with applications through SSO, AD, LDAP MFA, B2B Integration, Mobile Identity Management, User Management etc. Best practices for cloud access recommended by Okta are: multi-factor authentication (MFA), using passwordless authentication, complying to the least privilege principle, ensuring the separation of duties, monitoring and logging the activity in the company and automating onboarding and offboarding of employees. Cyscale ensures your company does not drift away from some of these best practices.","date":"2022-05-19T07:40:18.390Z","featuredpost":true,"permalink":"iam-okta-security-best-practices","featuredimage":{"publicURL":"/static/92efc187d453834e74edca1259bb1e9c/okta-security-best-practices.webp","childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/92efc187d453834e74edca1259bb1e9c/888e2/okta-security-best-practices.webp","srcSet":"/static/92efc187d453834e74edca1259bb1e9c/913d0/okta-security-best-practices.webp 205w,\n/static/92efc187d453834e74edca1259bb1e9c/91660/okta-security-best-practices.webp 410w,\n/static/92efc187d453834e74edca1259bb1e9c/888e2/okta-security-best-practices.webp 820w","sizes":"(min-width: 820px) 820px, 100vw"},"sources":[]},"width":820,"height":460}}}},"rawMarkdownBody":"<!--StartFragment-->\n\nWhat is Okta? \n\nOkta is an [identity and access management (IAM)](https://cyscale.com/blog/iam-best-practices-from-aws-azure-gcp/) service built for the cloud. \n\nIt connects any person with any application securely through its features, such as: \n\n* Single Sign-On (SSO), \n* Active Directory (AD) and LDAP Integration, \n* Multi-Factor Authentication (MFA), \n* User Management, \n* B2B Integration for 3rd party access, \n* Mobile Identity Management, and others. \n\n### Okta Security Best Practices for Cloud Access \n\nOkta can be configured as an external identity provider to enable SSO in the cloud. \n\nLet's look at the best practices recommended by Okta and how you can make sure you're implementing them correctly to secure your cloud environment and keep your solutions protected.\n\n<br/>\n\n#### 1. Use multi-factor authentication (MFA) \n\n### Scenario \n\nAn employee uses a weak password for their accounts. The password was cracked through a brute-force attack by an attacker. \n\nThe employee re-uses their password for Okta SSO, and MFA is not implemented in the company, so the attacker now has full access to all of the employee's accounts. \n\n### Best practice \n\n[MFA](https://cyscale.com/blog/iam-best-practices-from-aws-azure-gcp/#MFA) is a type of authentication that requires an entity to provide at least two different types of credentials. \n\nThey should be of the following:  \n\n* What you know (example: a PIN)  \n* What you have (example: a security token)  \n* What you are (example: a fingerprint)  \n\nOkta recommends you use a one-time password or a biometric verification in your authentication scheme in order to add an extra layer of security. \n\n<br/>\n\n#### 2. Stop using passwords \n\n### Scenario \n\nAn employee writes their password on a post-it note and leaves it on their desk. \n\nAn employee from another department finds it and can now login into the employee's account. \n\n### Best practice \n\nPasswordless authentication is possible by providing a public identifier (such as a username or an email address) and then using a different way of proving your identity (through a phone or a token, for example), thus eliminating the use of passwords. \n\nThis type of authentication is secure because: \n\n* Weak passwords are no longer a concern for your company \n* Solutions for password storage are not an issue anymore \n* The credentials cannot be breached; therefore, you're reducing the number of points of failure \n\nOkta suggests solutions that can help you go passwordless. You can use: \n\n* Okta Fastpass, which allows you to authenticate passwordless from any device or location to any Okta-managed application; \n* WebAuthn, a standard that simplifies authentication. \n\n<br/>\n\n#### 3. Manage user access by following the Least Privilege Principle \n\n### Scenario \n\nAlthough they do not require such privileges, an employee was assigned administrative rights. \n\nThe employee accidentally deletes an asset—this action results in permanent data loss. \n\n### Best practice \n\nThe Least Privilege Principle states that users should not have more permissions than they require to perform their tasks. \n\nUser access control management is a security best practice recommended by [Okta](https://www.okta.com/) that helps minimize the risk of data breaches or accidental misconfigurations. \n\nFor example, a regular user should not have administrator rights unless they need them for daily tasks. \n\nMake sure to restrict users as much as possible in accordance with their jobs. \n\n<br/>\n\n#### 4. Ensure the Separation of Duties \n\n### Scenario \n\nThe administrator goes on vacation. They are the only ones with administrator privileges.  \n\nA critical vulnerability appears in the cloud infrastructure, but nobody has the necessary rights to patch it. The administrator cannot be contacted and is out of the office for a few weeks. \n\n### Best practice \n\nThe Separation of Duties Principle helps eliminate a single point of failure by assuring no entity has the rights to execute a critical task by themselves. \n\nConfiguring at least two administrators eliminates the single point of failure. It ensures that if one of them is missing, the other can still perform tasks requiring administrative privileges. \n\n<br/>\n\n#### 5. Monitor activity \n\n### Scenario \n\nAn attacker manages to gain control of an employee's account and authenticates from a different device or an unusual location. \n\nThis authentication is logged, but the logs are not carefully monitored, so the breach goes undetected. \n\nThe hacker can now move laterally and compromise workstations, databases, and other accounts without raising any alarms in the company. \n\n### Best practice \n\nLogging and monitoring are two features that should be implemented in your cloud environment. \n\nThese technologies can help you identify suspicious behavior, such as: \n\n* **an impossible log-in**, for example when a user authenticates from two different parts of the world in a few minutes, \n* **a user connecting to an application from a different device than expected**, and others. \n\nOkta recommends that you constantly look for odd activity in your cloud infrastructure and make sure you take actions when you identify them, such as verifying a user's identity through MFA. \n\n<br/>\n\n#### 6. Automate onboarding and offboarding \n\n### Scenario \n\nA software developer leaves the company, but their account is not correctly deprovisioned.  \n\nThey can still contribute to GitHub repositories and modify production code. \n\n### Best practice \n\nThe process of onboarding or offboarding an employee can be tedious. \n\nThere should be a well-defined set of steps when an employee leaves the company. Automate as many of them as possible, to make sure that: \n\n* You correctly deprovision their account, and \n* They cannot access and make changes to your systems anymore. \n\nAlong with these Okta-centric recommendations, it's essential to ensure that your organization adheres to broader **[cloud security best practices](https://cyscale.com/blog/cloud-data-security-guide/)**. Diversifying your security strategies and keeping abreast of best practices in the wider cloud ecosystem provides a layered defense against potential threats.\n\n<br/>\n\nAre you following these best practices in your company? \n\nWith [Cyscale - Cloud Security Platform](https://cyscale.com/), you can detect drifts from some of these best practices recommended by Okta. \n\nCyscale checks if access to your cloud environment is correctly configured and is implementing the following: \n\n* Multi-Factor Authentication (MFA), \n* Logging and monitoring, \n* Access control, \n* Strong credential policies and many more. \n\nFurthermore, you can [onboard your Okta account into Cyscale](https://cyscale.com/use-cases/okta-cyscale-integration/) and get full visibility over identities in your organization and cloud permissions, along with a contextual analysis of access, cloud assets and sensitive data to reveal toxic combinations that put your organization at risk. \n\n<!--EndFragment-->"}},{"node":{"frontmatter":{"authors":"Sabrina Lupșan","categories":["IAM"],"title":"Securing IAM - Best Practices Recommended by AWS, Azure, and Google Cloud","seoTitle":"Securing IAM - Best Practices Recommended by AWS, Azure, and Google Cloud","description":"We look at best practices recommended by AWS, Azure and Google Cloud regarding securing IAM, like enabling MFA, rotating credentials and keys regularly, complying to the least privilege principle, implementing logging and monitoring, assigning permissions at group level. Examples of controls from the Cyscale application are shown.","seoDescription":"We look at best practices recommended by AWS, Azure and Google Cloud regarding securing IAM, like enabling MFA, rotating credentials and keys regularly, complying to the least privilege principle, implementing logging and monitoring, assigning permissions at group level. Examples of controls from the Cyscale application are shown.","date":"2022-05-11T06:39:36.105Z","featuredpost":true,"permalink":"iam-best-practices-from-aws-azure-gcp","featuredimage":{"publicURL":"/static/2ac40e1f538ac411f31af89f7bb00616/securing-iam.webp","childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/2ac40e1f538ac411f31af89f7bb00616/888e2/securing-iam.webp","srcSet":"/static/2ac40e1f538ac411f31af89f7bb00616/913d0/securing-iam.webp 205w,\n/static/2ac40e1f538ac411f31af89f7bb00616/91660/securing-iam.webp 410w,\n/static/2ac40e1f538ac411f31af89f7bb00616/888e2/securing-iam.webp 820w","sizes":"(min-width: 820px) 820px, 100vw"},"sources":[]},"width":820,"height":460}}}},"rawMarkdownBody":"<!--StartFragment-->\n\nAfter we've described the [IAM implementations for AWS, Google Cloud, and Azure](https://cyscale.com/blog/iam-services-in-aws-azure-gcp/), let's look at some of the security best practices they recommend and how to check if your cloud environment is implementing them. \n\nWith Cyscale, you can efficiently scan your cloud infrastructure and verify whether it follows the IAM best practices that we're going to describe in this article. \n\n<div id=\"MFA\">\n\n### Enable Multi-Factor Authentication (MFA) \n\nMulti-Factor Authentication is a form of authenticating where the user needs to provide at least two different credentials of different types.  \n\nThey should be of the following: \n\n* What you know (example: a password) \n* What you have (example: a smart card) \n* What you are (example: a fingerprint) \n\nA prevalent scenario of MFA is using a password and a code received on your phone to log in. This example combines \"What you know\" with \"What you have\".  \n\nHere are some of the controls implemented in Cyscale that check if MFA is configured for your cloud environment: \n\n* *Ensure multi-factor authentication (MFA) is enabled for all IAM users that have a console password* for AWS \n* *Ensure that multi-factor authentication is enabled for all privileged users* for Microsoft Azure \n* *Ensure that multi-factor authentication is enabled for all non-privileged users* for Microsoft Azure \n\nSSO (Single Sign-On) should also be integrated in the authentication scheme to grant access to individual users across multiple environments using just one set of credentials. \n\n</div>\n\n### Rotate credentials and keys regularly \n\nThis best practice is recommended across all vendors and should be implemented in your cloud infrastructure.  \n\nThis method helps minimize the impact if a key or a set of credentials is breached. \n\nIn the case of user credentials, passwords should be changed with new, different ones. \n\nWhen rotating keys, the old ones should be retired, and new keys should be generated. \n\nWe suggest that you rotate your keys and credentials at least every 90 days. \n\nSome examples of validation controls offered by Cyscale that check if credentials or keys are rotated regularly are: \n\n* *Ensure access keys are rotated every 90 days or less* for AWS (Amazon Web Services) \n* *Ensure API keys are rotated every 90 days* for Google Cloud\n* *Ensure IAM password policy expires passwords within 90 days or less* for AWS \n\nMoreover, a strong password policy should be implemented to prevent individuals from using weak passwords. \n\n### Comply with The Principle of Least Privilege \n\nConforming to The Principle of Lease Privilege is another essential best practice instilled in cloud security and recommended by the vendors we've discussed.  \n\nIn order to comply with this concept, you need to restrict user access to the least privileged access and eliminate all administrator and root user accounts that are not strictly necessary.  \n\nAWS recommends that you start setting up your policies with a minimum of possible permissions and add more on the go, if necessary, to correctly manage access control.  \n\nMake sure you're not missing anything when implementing the concept of least privilege by using controls offered by Cyscale that detect misconfigurations, like the ones below: \n\n* *Ensure that ServiceAccount has no Admin privileges* for Google Cloud\n* *Eliminate use of the \"root\" user for administrative and daily tasks* for AWS \n\n### Assign permissions at group level  \n\nAnother best practice we recommend to ensure IAM Cloud Security is managing specific permissions at group level and not at the user level. \n\nWhenever you're adding a new user or trying to manage multiple users, assign them to a group with very well-defined rules and privileges. \n\nHere are some controls from Cyscale that check if you're implementing this IAM security best practice: \n\n* *Ensure IAM Users receive permissions only through Groups* for AWS Cloud \n* *Ensure IAM Policies are attached only to groups or roles* for AWS Cloud \n\n### Implement logging and monitoring \n\nAWS, Google Cloud, and Azure recommend that you implement logging and monitoring for your cloud environment. All three vendors provide these features.  \n\nFor AWS IAM, you can use one of the following IAM services: \n\n* AWS CloudTrail \n* Amazon CloudFront \n* Amazon CloudWatch \n* AWS Config \n* Amazon S3 \n\nGoogle Cloud supplies Cloud Audit Logs, a service that audits your IAM policy, access to cloud service account keys, and other components of Google Cloud. \n\nFor Azure, you can use Azure AD activity logs which can be supplemented by Azure Monitor logs to alert you on significant events. \n\nExamples of controls across all three cloud providers can be seen below: \n\n* *Ensure CloudTrail trails are integrated with CloudWatch Logs* for AWS \n* *Ensure that Diagnostic Logs are enabled for all services which support it* for Microsoft Azure \n* *Ensure that Cloud Audit Logging is configured properly across all services and all users from a project* for Google Cloud\n\nIdentity and Access Management is a crucial component of the cloud and should be adequately secured to prevent data breaches and other cybersecurity incidents. Reduce the attack surface by eliminating any vulnerabilities in the authentication process and keeping hackers away.\n\nUse Cyscale to identify any [misconfigurations](https://cyscale.com/blog/common-cloud-misconfigurations-how-to-avoid-them/) or gaps in your cloud infrastructure and secure it with our over 400 controls. \n\nIn the following article, we will look at [IAM best practices](https://cyscale.com/blog/iam-best-practices-identity/) described by these vendors and how to check if your cloud infrastructure is implementing them correctly.\n\n\n\n<!--EndFragment-->"}},{"node":{"frontmatter":{"authors":"Sabrina Lupșan","categories":["IAM"],"title":"IAM Services in AWS, Azure, and Google Cloud - A Cloud Industry Overview","seoTitle":"IAM Services in AWS, Azure, and Google Cloud - a Cloud Industry Overview","description":"An industry overview of the IAM Services. We look at AWS, Azure and Google Cloud and understand what identity and management is. The components of IAM are described for all three vendors.","seoDescription":"An industry overview of the IAM Services. We look at AWS, Azure and Google Cloud and understand what identity and management is. The components of IAM are described for all three vendors. Authentication methods are described, such as Single Sign-On (SSO) and Multi-Factor Authentication (MFA).","date":"2022-05-06T05:44:34.049Z","featuredpost":true,"permalink":"iam-services-in-aws-azure-gcp","featuredimage":{"publicURL":"/static/efb95d84a5f1a4760ffb7bb47eeaadba/iam-services-in-aws-azure-and-gcp-a-cloud-industry-overview.webp","childImageSharp":{"gatsbyImageData":{"layout":"constrained","images":{"fallback":{"src":"/static/efb95d84a5f1a4760ffb7bb47eeaadba/888e2/iam-services-in-aws-azure-and-gcp-a-cloud-industry-overview.webp","srcSet":"/static/efb95d84a5f1a4760ffb7bb47eeaadba/913d0/iam-services-in-aws-azure-and-gcp-a-cloud-industry-overview.webp 205w,\n/static/efb95d84a5f1a4760ffb7bb47eeaadba/91660/iam-services-in-aws-azure-and-gcp-a-cloud-industry-overview.webp 410w,\n/static/efb95d84a5f1a4760ffb7bb47eeaadba/888e2/iam-services-in-aws-azure-and-gcp-a-cloud-industry-overview.webp 820w","sizes":"(min-width: 820px) 820px, 100vw"},"sources":[]},"width":820,"height":460}}}},"rawMarkdownBody":"<!--StartFragment-->  \n\nIdentity and Access Management (IAM) refers to all the good practices and rules that must be followed when establishing authentication and authorization for a user to an organization’s systems and applications. \n\nIn the past, different measures were implemented to assure security in an organization by only allowing users to access company resources through company devices on premises. \n\nHowever, as companies adopt the remote working model, this is no longer an option. For the cloud, IAM is the solution to ensure security. \n\nUsers can nowadays [connect to the cloud from all around the world](https://cyscale.com/use-cases/remote-work-security/) with their personal devices. \n\nMoreover, access is not restricted to human users; applications and other types of identities also require access to different types of resources. \n\nTherefore, strong IAM policies need to be implemented. \n\nLet’s first clarify some important concepts. Then, we will look into IAM policies and what different cloud vendors offer for their IAM infrastructure.\n\n### Identity \n\nIdentity refers to who can authenticate (sign in) into a cloud account.  \n\nIn order to allow someone to access cloud resources, you need to ensure that the user trying to authenticate is who they claim to be. \n\nAuthentication should be implemented using technologies like Single Sign-On (SSO) and Multi-Factor Authentication (MFA) to increase security.  \n\nAfter a user authenticates, access management is needed.  \n\nJust because a user successfully authenticated doesn’t mean that they should have full access to all the available resources. \n\n### Access management \n\nTo regulate access inside the cloud environment, strong access control policies need to be implemented. \n\nHaving groups with well-defined rules and privileges at different granularity levels is an excellent solution to manage access to cloud resources. \n\nIn this way, you do not have to assign permissions to each new user but rather add them to the appropriate group that already has the correct permissions. \n\nAccess management also refers to keeping track of users’ actions. Therefore, logging and monitoring are essential parts of IAM and should be implemented. \n\nNow that we’ve understood the purpose of IAM, let’s look at three big vendors in the cloud industry and their approach to access management: AWS Cloud, Google Cloud Platform, and Microsoft Azure. \n\n### IAM implementations - An industry overview \n\n### Amazon Web Services (AWS) \n\nFor access management, the IAM service provided by AWS has three types of assets: user, role and policy.  \n\nAlong with the creation of an account, an AWS account root user is created. \n\nWhen looking at [AWS Cloud](https://cyscale.com/use-cases/aws-cloud-security/), we can identify 6 concepts in IAM: \n\n1. **Principal**, which represents the entity (user or application) that is trying to authenticate using an AWS account root user, an IAM user, or an IAM role. \n2. **Request**, which is made by a principal to AWS and holds information about the operation they want to perform. \n3. **Authentication**, which refers to the credentials you need, such as an access key or a username and password. \n4. **Authorization**, which refers to the permissions and policies that define what a principal can do in an account. \n5. **Actions and operations**, which must be included in policies in order to allow a principal to execute them. \n6. **Resources**, which define the objects that exist within a service and to which the principal requires access; they can be, for example, Amazon S3 buckets, IAM users, and Amazon EC2 instances. \n\n Policies define permissions and can be attached to: \n\n* users.\n* groups of users, \n* roles,\n* resources. \n\nThere are multiple types of policies that can be applied in AWS. A user can create their own custom policies or can use the ones offered by AWS.  \n\nYou can see below the different types of AWS policies, ordered from the most frequently used to the least: \n\n1. Identity-based (attached to IAM identities) \n2. Resource-based (attached to resources) \n3. Permissions boundaries (they define the highest level of permissions an identity-based policy can apply) \n4. Organization Service Control Policies (used to define the highest level of permissions an identity-based or resource-based policy can apply for account members of an organization) \n5. Access Control Lists or ACLs (are similar to resource-based policies and define which principals can access a resource) \n6. Session policies (they limit the permissions granted by identity-based policies in an AWS CLI or API session)\n\n### Google Cloud Platform\n\nIn Google Cloud, permissions to access resources are organized into roles. To understand how IAM works in Google, we must look at the 3 IAM asset types: \n\n* **Roles**, which represent a collection of permissions \n* **Principals**, who are assigned to roles and can be: \n\n  * a Google Account, \n  * a Service Account, \n  * a Google group, \n  * a Google Workspace account, \n  * a Cloud Identity domain, \n  * all authenticated users, \n  * all users.\n* **Policies**, which define associations of principals and roles  \n* **Resources**, which are physical assets, such as computers and hard disk drives, and virtual assets, for example virtual machines. \n\nIn Google Cloud, permissions cannot be applied to principals directly. Instead, principals must be assigned to roles and thus receive all the permissions allowed for that role. \n\nBelow, you can see a diagram of the IAM components found in Google Cloud. \n\n![Google Cloud IAM Components](/img/gcp-iam.webp#shadow \"Google Cloud IAM Components\")\n\nImage source – [Google Cloud Platform](https://cloud.google.com/iam/docs/overview) \n\n### Microsoft Azure \n\n[Azure Active Directory](https://cyscale.com/use-cases/azure-cloud-security/) (Azure AD) is an IAM service provided by Microsoft for the cloud. Azure AD is the identity system used to connect to Microsoft 365, the Azure portal, and other SaaS applications. \n\nLet’s look at components of Azure AD: \n\n**1. Identity** \n\nAn identity is an entity that can be authenticated.  \n\nIdentities can be of the following types: \n\n* Users,\n* Groups,  \n* Applications. \n\n**2. Role** \n\nA role is a collection of permissions. \n\nAccess to Azure resources is managed by **RBAC (Role-based Access Control)**. \n\nAzure RBAC provides high granularity with four built-in roles: \n\n1. Owner (can perform all actions on all resource types) \n2. Contributor (can perform any action an owner can except managing RBAC) \n3. Reader (can perform all read actions on all resource types) \n4. User Access Administrator (can manage user access to Azure resources) \n\nOther roles are also provided for granular management of access. Moreover, custom roles can be created to cater to every organization’s needs. \n\n**3. Scope** \n\nScopes are sets of resources that define what an identity can access.  \n\nThey are important because, when you assign a role, it is crucial to only grant a principal the access they need. \n\nScopes can be: \n\n* subscriptions, \n* resource groups, \n* resources. \n\n**4. Resource** \n\nResources are manageable items available through Azure, such as virtual machines, databases, web applications and others. \n\nAccess to resources is granted by assigning: \n\n* a user, \n* a group, or \n* a Service Principal (process or application) \n\nto a specific role and a specific scope. \n\nCyscale integrates with AWS, Azure, Google Cloud and other vendors to check for vulnerabilities and [improve its customers‘ cloud security posture](https://cyscale.com/blog/improve-cloud-security-posture/). \n\nIn the following article, we will look at [IAM best practices](https://cyscale.com/blog/iam-best-practices-identity/) described by these vendors and how to check if your cloud infrastructure is implementing them correctly. \n\n<!--EndFragment-->"}}]}},"pageContext":{"limit":9,"skip":0,"numPages":1,"currentPage":1,"category":"IAM","seoTitle":"Cyscale - IAM","seoDescription":"News about Cyscale IAM","categoriesList":["Cloud Security","Compliance","News","Product","CSPM","IAM","CNAPP","Misconfigurations"],"categorySlug":"iam"}},"staticQueryHashes":["220583031","4109069157","632500807","981947644"],"slicesMap":{}}